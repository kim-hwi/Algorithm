MAIN	START	1000

	JSUB	SCAN1

ALG1	LDX	#1
ALG2	LDCH	DATA,X
	STA	TMP
	TIX	CASE
	LDCH	DATA,X
	TIX	CASE
	COMP	TMP
	JEQ	ALG2

PRINT	TD	OUTDEV
	JEQ	PRINT
	LDCH	DATA
	WD	OUTDEV


SCAN1	TD	INDEV
	JEQ	SCAN1
	RD	INDEV
	SUB	#48
	STA	CASE
	MUL	CASE
	STA	CASE
	RD	INDEV
	COMP	ASEN
	LDX	#1
	JEQ 	SCAN2
	
SCAN2	LDA	#0
	TD	INDEV
	JEQ	SCAN2
	RD	INDEV
	COMP	ASEN
	JEQ 	SCAN2
	SUB	#48
	STCH	DATA,X
	LDA	#0
	TIX	CASE
	
	JLT	SCAN2
	JEQ 	SCAN2
	COMP	ASEN
	RSUB
	

ASEN	WORD	10
CASE	RESW	1
TEST	RESB	1
INDEV	BYTE	0
OUTDEV	BYTE	1
DATA	RESB	64
TMP	RESW	1

    

	STS	0
SCAN3	TD	INDEV	
	JEQ	SCAN2
	RD	INDEV
	STCH	DATA
	STS	TMP
	LDA	TMP
	ADD	#1
	STA	TMP
	COMP	TEST
	JLT	SCAN2